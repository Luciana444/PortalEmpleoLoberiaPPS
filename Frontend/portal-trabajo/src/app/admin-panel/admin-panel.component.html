<app-header></app-header>
<div class="container">
    <app-reports></app-reports>
    <div class="container-list">
        <mat-accordion>
            <mat-expansion-panel (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)">
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        <h1>Ofertas</h1>
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <div class="list-content">
                    @if (offers.length) {
                    @for (offer of offers; track offer.id) {
                    <li>
                        <div class="profile">
                            <h1>{{offer.puesto_requerido}}</h1>
                            <div class="profile-header">
                                <div class="profile-pic">
                                    <img [src]="getImageUrl(offer.logo)  || 'sample_pfp.png'" alt="Profile picture">
                                </div>
                                <div class="profile-info">
                                    <h4>{{offer.nombre_empresa}}</h4>
                                    <div class="location">
                                        <i class="fa-solid fa-location-dot"></i>
                                        <p>{{offer.localidad}}</p>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <p>Publicada el: {{offer.fecha_publicacion}}</p>
                            </div>
                            <div class="detail-categories">
                                <h5><i class="fa-solid fa-file-signature"></i> {{offer.tipo_contrato}}</h5>
                                <h5 class="state-flag"><i class="fa-solid fa-clock"></i> {{offer.estado_publicacion}}</h5>
                            </div>
                            <div>
                             <button (click)="navigateToPostulationDetail(offer.id)">Ver Oferta</button>
                             </div>
                        </div>
                    </li>
                    }
                    }
                </div>
            </mat-expansion-panel>
        </mat-accordion>
    </div>
    <!--
<mat-accordion>
    <mat-expansion-panel (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)">
        <mat-expansion-panel-header>
            <mat-panel-title><h1>Empleadores</h1> </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="list-content">
           
        </div>
    </mat-expansion-panel>
</mat-accordion>
<mat-accordion>
    <mat-expansion-panel (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)">
        <mat-expansion-panel-header>
            <mat-panel-title><h1>Ciudadanos</h1> </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="list-content">
           
        </div>
    </mat-expansion-panel>
</mat-accordion>
-->
</div>
<app-footer></app-footer>