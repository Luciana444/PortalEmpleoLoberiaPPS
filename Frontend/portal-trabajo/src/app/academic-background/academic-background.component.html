<main>
    <div>
        <div class="title-wrapper">
            <h2>Formacion academica y cursos</h2>
            @if(getUserType()=== "empresa" || getUserType()=== 'admin'){
            <button class="hide-btn"> <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px"><path d="M480-212.31 240-342.77v-193.85L123.08-600 480-793.85 836.92-600v255.39h-40v-232.93L720-536.62v193.85L480-212.31ZM480-452l273.23-148L480-748 206.77-600 480-452Zm0 194.08 200-108v-148.7L480-406.3 280-514.62v148.7l200 108ZM480-452Zm0 54.62Zm0 0Z"/></svg>
                Completar Formación</button>}
            @else{
            <button (click)="navigateToAcademicBackgroundEditComponent()"><svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px"><path d="M480-212.31 240-342.77v-193.85L123.08-600 480-793.85 836.92-600v255.39h-40v-232.93L720-536.62v193.85L480-212.31ZM480-452l273.23-148L480-748 206.77-600 480-452Zm0 194.08 200-108v-148.7L480-406.3 280-514.62v148.7l200 108ZM480-452Zm0 54.62Zm0 0Z"/></svg>
                Completar
                Formación</button>
            }
        </div>
        <div class="info-row">
            <h5>Nivel Educativo Alcanzado: </h5>
            <p>{{employeeData?.nivel_educativo}}</p>
        </div>
        <div class="info-row">
            <h5>¿Está cursando actualmente una carrera? </h5>
            @if (employeeData?.esta_cursando_carrera) {
            <p>Sí</p>
            } @else {
            <p>No</p>
            }
        </div>
        <div class="info-row">
            <h5>Carrera en curso: </h5>
            <p>{{employeeData?.carrera_en_curso}}</p>
        </div>
        <div class="info-row">
            <h5>Carreras o capacitaciones realizadas: </h5>
        </div>
        <div class="experiences">
            @for (capacitacion of employeeData?.capacitaciones; track $id) {
            <li>
                <p>{{capacitacion.nombre_capacitacion}}</p>
            </li>
            <mat-divider></mat-divider>
            }
        </div>
    </div>
    <div>
        <div class="title-wrapper">
            <h2>Experiencia laboral</h2>
            @if(getUserType()=== "empresa" || getUserType() === 'admin'){
            <button class="hide-btn"><i class="fa-solid fa-briefcase"></i> Completar
                Experiencia</button>}
            @else{
            <button (click)="navigateToWorkExperience()"><svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px"><path d="M184.62-160q-27.62 0-46.12-18.5Q120-197 120-224.62v-390.76q0-27.62 18.5-46.12Q157-680 184.62-680H360v-55.39q0-27.61 18.5-46.11t46.12-18.5h110.76q27.62 0 46.12 18.5Q600-763 600-735.39V-680h175.38q27.62 0 46.12 18.5Q840-643 840-615.38v390.76q0 27.62-18.5 46.12Q803-160 775.38-160H184.62ZM400-680h160v-55.39q0-9.23-7.69-16.92-7.69-7.69-16.93-7.69H424.62q-9.24 0-16.93 7.69-7.69 7.69-7.69 16.92V-680Zm400 300H560v60H400v-60H160v155.38q0 9.24 7.69 16.93 7.69 7.69 16.93 7.69h590.76q9.24 0 16.93-7.69 7.69-7.69 7.69-16.93V-380Zm-360 20h80v-80h-80v80Zm-280-60h240v-60h160v60h240v-195.38q0-9.24-7.69-16.93-7.69-7.69-16.93-7.69H184.62q-9.24 0-16.93 7.69-7.69 7.69-7.69 16.93V-420Zm320 20Z"/></svg> Completar
                Experiencia</button>
            }
        </div>
        <div class="info-row">
            <h5>Situación laboral actual: </h5>
            <p>{{employeeData?.situacion_laboral}}</p>
        </div>
        <div class="info-row">
            <h5>¿Tiene un emprendimiento propio?</h5>
            <p>{{employeeData?.tiene_emprendimiento}}</p>
        </div>
        <div class="experiences">
            <div>
                @for (experiencia of employeeData?.experiencias_laborales; track $id) {
                <li>
                    <div class="dates">
                        <p><strong> Lugar de Trabajo:</strong> {{experiencia.nombre_empresa}}</p>
                        <p><strong> De: </strong>{{formatIsoDateString(experiencia.desde)}}</p>
                        @if(experiencia.hasta){
                        <p><strong> A:</strong> {{formatIsoDateString(experiencia.hasta)}}</p>
                        }@else{
                        <p>Trabajando Actualmente</p>    
                        }
                    </div>
                    <p class="descripcion-margin"><strong> Descripción:</strong> {{experiencia.comentario}}</p>
                </li>
                <mat-divider></mat-divider>
                }
            </div>
        </div>
    </div>
</main>

@if(getUserType() === 'ciudadano'){
<div class="postulations-header">
    <h1>Postulaciones</h1>
</div>
@if (postulations.length) {
@for (p of postulations; track p.id) {
<div class="postulations">
    <div class="postulation-title">
        <h2>{{p.puesto_requerido}}</h2>
        <p class="postulation-date">Postulado el {{convertToLocalDate(p.fecha_postulacion)}}</p>
    </div>
    <div class="postulations-content">
        <div class="postulations-text-wrapper">
            <p class="postulations-text">{{p.descripcion}}</p>
        </div>
        <button (click)="navigateToPostulationDetail(p.id_oferta)">Ver Oferta</button>
    </div>
</div>
}} @else {
<h3>No hay postulaciones.</h3>
}
}